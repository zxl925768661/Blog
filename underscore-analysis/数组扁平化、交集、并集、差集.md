## 数组的扁平化
### ES6 Array.prototype.flat
ES6中数组新增了flat方法，会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回。    
其中参数表示想要拉平的层数，默认为1。如果不管有多少层嵌套，都要转成一维数组，可以用Infinity关键字作为参数。
先来看下使用：

```js
var arr = [1, 2, [3, [4, 5, [6]]]];

arr.flat();    // [1, 2, 3, [4, 5, [6]]]

arr.flat(2);    // [1, 2, 3, 4, 5, [6]]

arr.flat(Infinity);   // [1, 2, 3, 4, 5, 6]
```

### 如何实现数组的扁平化?
#### 利用ES6的flat方法   
#### 利用ES6 拓展运算符  
```js
var arr = [1, 2, [3, [4, 5, [6]]]];
function flatten(arr) {
  while (arr.some(Array.isArray)) {
    arr = [].concat(...arr);
  }
  return arr;
}
flatten(arr);  // [1, 2, 3, 4, 5, 6] 
```
#### 使用reduce + concat   
```js
var arr = [1, 2, [3, [4, 5, [6]]]];
function flatten(arr, deep){
  return deep > 1 ? arr.reduce((prev, next) => prev.concat(Array.isArray(next) ? flatten(next, deep - 1) : next), []) : arr.slice();
}
flatten(arr, Infinity);  // [1, 2, 3, 4, 5, 6]     
```
#### 使用toString + split方法（<font color="red">只适用于都是数字组成的数组，不推荐</font>）
```js
var arr = [1, 2, [3, [4, 5, [6]]]];
function flatten(arr){
    return arr.toString().split(',')
}
console.log(flatten(arr));
```
#### 正则（<font color="red">不推荐</font>）
```js
function flatten(arr) {
  let str = JSON.stringify(arr);
  str = str.replace(/(\[|\])/g, '');
  str = '[' + str + ']';
  return JSON.parse(str); 
}
```
### underscore.js中的_.flatten
使用： 

```js

```