### ES6 findIndex
ES6中数组新增了findIndex方法，会返回数组中满足提供的测试函数的第一个元素的**索引**。若没有找到对应元素则返回-1；

先来看下使用：

```js
const arr = [5, 12, 8, 130, 44];

const isLargeNumber = (element) => element > 13;

console.log(arr.findIndex(isLargeNumber));  // 3
```
findIndex 会找出第一个大于 13 的元素的下标，所以最后返回 3

### 实现findIndex

```js
function findIndex (array, predicate, context) {
  var length = array.length;
  for (var index = 0; index < length; index++) {
    if (predicate.call(context, array[index], index, array)) return index;
  }
  return -1;
}

const arr = [5, 12, 8, 130, 44];
findIndex(arr, function (item, index, array) {
    return item > 13;
});
// 3

```

### 实现findLastIndex
findIndex是正序查找, 同样我们也可以实现一个倒序查找的findLastIndex

```js
function findLastIndex (array, predicate, context) {
  var length = array.length;
  for (var index = length - 1; index >= 0; index--) {
    if (predicate.call(context, array[index], index, array)) return index;
  }
  return -1;
}

const arr = [5, 12, 8, 130, 44];
findLastIndex(arr, function (item, index, array) {
    return item > 13;
});
// 4
```

### createPredicateIndexFinder
从上面代码可以看出findIndex、findLastIndex中除了for循环内语句不一样外，其余都是一样的处理逻辑，underscore.js中利用传参的不同，返回不同的函数

```js
function createPredicateIndexFinder (dir) {
  return function (array, predicate, context) {
    var length = arr.length;
    var index = dir > 0 ? 0 : length - 1;
    for (; index >= 0 && index < length; index += dir) {
      if (predicate.call(context, array[index], index, array)) return index;
    }
    return -1;
  };
}
var findIndex = createPredicateIndexFinder(1);
var findLastIndex = createPredicateIndexFinder(-1);
```

### sortedIndex
> 使用二分查找确定**value**在**list**中的位置序号，**value**按此序号插入能保持**list**原有的排序。

使用：

```js
_.sortedIndex([10, 20, 30, 40, 50], 35);  // 3
```
list既然是有序的，那我们可以使用二分法查找插入位置。

第一版实现

```js
function sortedIndex (array, obj) {
  var low = 0, high = array.length;
  while (low < high) {
    var mid = Math.floor((low + high) / 2);
    if (array[mid] < obj) low = mid + 1; 
    else high = mid;
  }
  return low;
}
sortedIndex([10, 20, 30, 40, 50], 35);  // 3
```
但这样局限性大，我们还希望实现下面效果：

```js
var stooges = [{name: 'moe', age: 40}, {name: 'curly', age: 60}];
_.sortedIndex(stooges, {name: 'larry', age: 50}, 'age');  // 1
```
所以我们需要加上一个参数iteratee函数对数组的每一个元素进行处理，此外还需要考虑this指向问题；
